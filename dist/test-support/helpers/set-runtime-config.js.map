{"version":3,"file":"set-runtime-config.js","sources":["../../../src/test-support/helpers/set-runtime-config.ts"],"sourcesContent":["import { registerDestructor } from '@ember/destroyable';\nimport { getContext, type TestContext } from '@ember/test-helpers';\n\nimport type { RuntimeConfig } from '../../index.ts';\n\nconst initialConfig = Symbol('setRuntimeConfig');\n\ninterface ModifiedTestContext extends TestContext {\n  [initialConfig]: RuntimeConfig;\n}\n\nexport function setRuntimeConfig(config: Partial<RuntimeConfig>): void {\n  const context = <ModifiedTestContext>getContext();\n\n  if (!context[initialConfig]) {\n    context[initialConfig] = { ...window._erc };\n  }\n\n  window._erc = { ...window._erc, ...(config as RuntimeConfig) };\n\n  registerDestructor(context.owner, () => {\n    window._erc = context[initialConfig];\n  });\n}\n"],"names":["initialConfig","Symbol","setRuntimeConfig","config","context","getContext","window","_erc","registerDestructor","owner"],"mappings":";;;AAKA,MAAMA,aAAa,GAAGC,MAAM,CAAC,kBAAkB,CAAC,CAAA;AAMzC,SAASC,gBAAgBA,CAACC,MAA8B,EAAQ;AACrE,EAAA,MAAMC,OAAO,GAAwBC,UAAU,EAAE,CAAA;AAEjD,EAAA,IAAI,CAACD,OAAO,CAACJ,aAAa,CAAC,EAAE;IAC3BI,OAAO,CAACJ,aAAa,CAAC,GAAG;AAAE,MAAA,GAAGM,MAAM,CAACC,IAAAA;KAAM,CAAA;AAC7C,GAAA;EAEAD,MAAM,CAACC,IAAI,GAAG;IAAE,GAAGD,MAAM,CAACC,IAAI;IAAE,GAAIJ,MAAAA;GAA0B,CAAA;AAE9DK,EAAAA,kBAAkB,CAACJ,OAAO,CAACK,KAAK,EAAE,MAAM;AACtCH,IAAAA,MAAM,CAACC,IAAI,GAAGH,OAAO,CAACJ,aAAa,CAAC,CAAA;AACtC,GAAC,CAAC,CAAA;AACJ;;;;"}